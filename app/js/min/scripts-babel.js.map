{"version":3,"sources":["../../../src/scripts.js","../../../src/x-html-fragments.js"],"names":[],"mappings":"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","file":"scripts-babel.js","sourcesContent":["document.addEventListener('click', function(e){\n\t// sample link in toc\n\tif (e.target.closest('.switch')) {\n\t\tswitcheroo();\n\t}\n\tif (e.target.closest('p.disclosures a')) {\n\t\tcreatePopOver(e);\n\t}\n})\n\n// gomakethings.com/climbing-up-and-down-the-dom-tree-with-vanilla-javascript/\n// var getClosest = function ( elem, selector ) {\n\t// Get closest match\n// \tfor ( ; elem && elem !== document; elem = elem.parentNode ) {\n// \t\tif ( elem.matches( selector ) ) return elem;\n// \t}\n// \treturn null;\n// };\n\n// var elem = document.querySelector('span[itemprop = \"name\"]');\n// var closestElem = getClosest(elem, 'a');\n\n\n\n//////////////////////////////////////////////////////\n// Create a div at the top level to display tables\n//////////////////////////////////////////////////////\nconst tablePop = document.querySelector('.table-xl');\nconst tablePopActivator = tablePop.querySelector('.table-xl--btn');\nconst theTable = tablePop.querySelector('table');\n\nif (tablePop.offsetWidth < theTable.offsetWidth){\n\ttablePop.classList.add('scrollable'); \n\t// add the code below to the dom only when the condition is true\n\t// `\n\t// <span class=\"table-xl--btn\">\n  //                <svg class=\"icn\">\n  //                  <title>Open table</title>\n  //                  <use xlink:href=\"#arrows-open\" />\n  //                </svg>\n  //              </span>\n\t// `\n}\n\ntablePopActivator.addEventListener('click', makeTableDiv)\n\nfunction makeTableDiv(el){\n\n\tconst tablePopOver = document.createElement('div');\n\ttablePopOver.classList.add('table-popover');\n\n\ttablePopOver.style.top = 0 + \"px\";\n\ttablePopOver.style.left = 0;\n\tdocument.body.appendChild(tablePopOver);\n\n\tlet tableId = document.getElementById(\"0090\");\n\tlet tableClone = tableId.cloneNode(true);\n\n\tlet popper = document.querySelector('.table-popover');\n\tpopper.innerHTML = \n\t`\n\t<div class=\"table-content\">\n\t<!-- table goes here -->\n\t</div>\n\t`;\n\tlet tableContent = popper.querySelector('.table-content')\n\ttableContent.appendChild(tableClone);\n\n\tlet arrowInverter = tableContent.querySelector('.table-xl--btn');\n\tarrowInverter.innerHTML = \n\t`\n\t<span class=\"table-xl--btn-close\" onclick=\"destroyTablePopover()\">\n    <svg class=\"icn\">\n      <title>Open table</title>\n      <use xlink:href=\"#arrows-close\" />\n    </svg>\n  </span>\n  `\n\t;\n\n}\n\nfunction destroyTablePopover(){\n\tconst currTPop = document.querySelector('.table-popover')\n\tif (currTPop){\n\t\tdocument.body.removeChild(currTPop);\n\t\tevent.preventDefault();\n\t}\n}\n\n//////////////////////////////////////////////////////\n\t// tablePopOver.style.top = (window.scrollY + 48) + \"px\";\n\t// let rect = this.getBoundingClientRect();\n//////////////////////////////////////////////////////\n\n\n\n\nfunction createPopOver(e){\n\n\tlet templateSelector;\n\n\tif ( !e.target.href ){\n\t\ttemplateSelector = this.href;\n\t} else {\n\t\ttemplateSelector = e.target.href;\n\t}\n\n\tdestroyPopover();\n\n\tconst popOver = document.createElement('div');\n\tpopOver.classList.add('popover');\n\tdocument.body.appendChild(popOver);\n\n\t// const templateSelector = e.target.href;\n\n\t// console.log(templateSelector)\n\n\tif (templateSelector.includes('#main-certifications-disclosures')){\n\t\tpopOver.innerHTML = popOverFragDisclosure;\n\t}\n\n\tif (templateSelector.includes('#single')){\n\t\tpopOver.innerHTML = popOverFrag;\n\t}\n\n\tif (templateSelector.includes('#multiples')){\n\t\tpopOver.innerHTML = popOverFragMultiples;\n\t}\n\n\t// const xAxis = e.pageX;\n\tconst yAxis = e.pageY;\n\tpopOver.style.position = 'absolute';\n\tpopOver.style.left = `1rem`;\n\tpopOver.style.top = `${yAxis + 16}px`;\n\n\t// if (templateSelector === '#icn-1'){\n\t// \tpopOver.innerHTML = popOverFragIcn01;\n\t// } else if (templateSelector === '#icn-2'){\n\t// \tpopOver.innerHTML = popOverFragIcn02;\n\t// } else if (templateSelector === '#icn-3'){\n\t// \tpopOver.innerHTML = popOverFragIcn03;\n\t// }\n\n\tconst closePopover = popOver.querySelector('.close-popover');\n\tclosePopover.addEventListener('click', destroyPopover)\n\tpopOver.classList.toggle('show');\n\te.preventDefault();\n}\n\nfunction destroyPopover(){\n\tconst currPop = document.querySelector('.popover')\n\tif (currPop){\n\t\tdocument.body.removeChild(currPop);\n\t}\n}\n\n\n// POPOVERS //\n// byline popovers\nconst popLinks = document.querySelectorAll('.byline a');\nconst popLinksArray = [...popLinks]\n// popLinksArray.forEach( popLink => popLink.addEventListener('click', popUpAction));\npopLinksArray.forEach( popLink => popLink.addEventListener('click', createPopOver));\n\n\n// all popovers\nfunction popUpAction(e){\n\n\tconst popOver = document.createElement('div');\n\tpopOver.classList.add('popover');\n\tdocument.body.appendChild(popOver)\n\n\tconst templateSelector = this.getAttribute('href');\n\tconst linkCoords = this.getBoundingClientRect();\n\tconst coords = {\n\t\tbottom: linkCoords.bottom + window.scrollY,\n\t\tleft: linkCoords.left + window.scrollX\n\t}\n\tpopOver.style.position = 'absolute'\n\tpopOver.style.top = `${coords.bottom + 4}px`; \n\n\tlet mql = window.matchMedia('(min-width: 760px)');\n\n\tif (mql.matches) {\n\t\tpopOver.style.left = `${coords.left}px`;\n\t} else {\n\t\tpopOver.style.left = `1rem`;\n\t}\n\n\tif (templateSelector === '#multiples'){\n\t\tpopOver.innerHTML = popOverFragMultiples;\n\t} else if (templateSelector === '#single'){\n\t\tpopOver.innerHTML = popOverFrag;\n\t} else if (templateSelector === '#icn-1'){\n\t\tpopOver.innerHTML = popOverFragIcn01;\n\t} else if (templateSelector === '#icn-2'){\n\t\tpopOver.innerHTML = popOverFragIcn02;\n\t} else if (templateSelector === '#icn-3'){\n\t\tpopOver.innerHTML = popOverFragIcn03;\n\t}\n\n\tpopOver.classList.toggle('show');\n\n\tconst tempVar = document.querySelector('.popover__content a');\n\ttempVar.addEventListener('click', () => {\n\t\tscrollIt(\n\t\t\tdocument.querySelector('#main-certifications-disclosures'),\n\t\t\t300,\n\t\t\t'easeOutQuad',\n\t\t\t() => console.log(`Just finished scrolling to ${window.pageYOffset}px`)\n\t\t\t)\n\t});\n\n\tconst closePopover = popOver.querySelector('.close-popover');\n\tclosePopover.addEventListener('click', function(){\n\t\tpopOver.classList.remove('show');\n\t\tdocument.body.removeChild(popOver);\n\t})\n\te.preventDefault();\n}\n\n\n\n\n\n// content switcher for show\nconst switchlink = document.querySelector('.switch')\nconst switchh1 = document.querySelector('.switch-h1')\nconst switchh2 = document.querySelector('.switch-h2')\nconst switchlede = document.querySelector('.switch-lede')\nconst switchToc = document.querySelector('.switch-cont')\nconst htmlRoot = document.querySelector('html')\n\nswitchToc.style.display = 'none'\n\nif(switchh2){\n\tswitchh2.style.display = 'none'\n\tswitchh1.style.display = 'none'\n\tswitchlede.style.display = 'none'\n}\n\nfunction switcheroo(){\n\tconsole.log('test switcheroo')\n\thtmlRoot.classList.add('in-chapter') // add root class\n\tswitchlink.parentNode.classList.toggle('active')\n\n\tswitchh1.innerHTML = 'Focus'\n\tswitchToc.style.display = 'block'\n\tswitchh2.style.display = 'block'\n\tswitchh1.style.display = 'block'\n\tswitchlede.style.display = 'block'\n\tswitchlede.classList.toggle('lede') \n\tswitchh1.classList.toggle('alt') \n\tswitchh2.classList.toggle('alt') \n}\n\n// end switcher for show\n\n// TOC activation\nconst toc = document.querySelector('.toc');\nconst toctoc = document.querySelector('.toc__toc');\nconst menuShow = document.querySelector('.menu-bug');\nconst contentHeader = document.querySelector('.content__header');\nconst labelHeader = document.querySelector('.trigger');\n// const iconList = document.querySelector('.icon-list');\n// var iconListIcons = [].slice.call(iconList.querySelectorAll('a'));\n\n// open close toc\nmenuShow.addEventListener('click', activateToc);\n// ?????\n// labelHeader.addEventListener('click', activateToc);\n\nfunction activateToc () {\n\tconst tocCoords = toc.getBoundingClientRect();\n\tconst topOfToc = (tocCoords.height)\n\ttoctoc.style.top = topOfToc + 'px';\n\ttoctoc.classList.toggle('toc__open');\n}\n\n\n// window.scroll functions //\n// show menubar at top of page, make the icon list static\n\nwindow.addEventListener('scroll', fixTop);\nconst tocCoords = toc.getBoundingClientRect();\nconst coords = { bottom: tocCoords.bottom + window.scrollY }\nfunction fixTop(){\n\tif (window.scrollY > coords.bottom) {\n\t\ttoc.classList.add('fix-top')\n\t\tsetTimeout(function(){\n\t\t\ttoc.classList.add('fix-top-open')\n\t\t}, 0)\n\t} else if(window.scrollY < coords.bottom) {\n\t\ttoc.classList.remove('fix-top')\n\t\ttoc.classList.remove('fix-top-open')\n\t}\n}\n\n\n// footnotes //\nconst fnlink = document.querySelector('.footnote-link');\nconst fntext = document.querySelector('.footnote-item');\n\nif(fnlink){\n\tfnlink.addEventListener('click', show);\n}\n\nfunction show(){\n\tthis.classList.toggle('fn-expanded');\n\tfntext.classList.toggle('fn-displayed');\n\tsetTimeout(animate, 100);\n}\n\nfunction animate(){\n\tfntext.classList.toggle('fn-expanded');\n}\n\n\n\n\n\n\n\n// simulate clicking on a large table\n// const tablePopover = document.querySelector('.figure-header');\n// const tableToPop = document.querySelector('.table-container');\n// const tableToPop = document.querySelector('.figure-header + table');\n// const captionToPop = document.querySelector('.caption')\n\n// support MAIN-2\n// if(tablePopover) {\n// \ttablePopover.addEventListener('click', showTable);\n// }\n\n// function showTable(){\n// \ttableToPop.classList.toggle('table-pop')\n// \tcaptionToPop.classList.toggle('table-pop')\n// \tif (tableToPop.classList.contains('table-pop')) {\n// \t\ttablePopIcon.classList.add('hilite')\n// \t\ttablePopIcon.innerHTML = \n// \t\t`<svg class=\"icn\">\n// \t\t<title>Open table</title>\n// \t\t<use xlink:href=\"#arrows-close\" />\n// \t\t</svg>`\n// \t} else {\n// \t\ttablePopIcon.classList.remove('hilite')\n// \t\ttablePopIcon.innerHTML = \n// \t\t`<svg class=\"icn\">\n// \t\t<title>Open table</title>\n// \t\t<use xlink:href=\"#arrows-open\" />\n// \t\t</svg>`\n// \t}\n// }\n\n\n// scroll stuff - https://pawelgrzybek.com/page-scroll-in-vanilla-javascript/\n\n// disclosureLink.addEventListener('click', () => scrollIt(50000));\n\nfunction scrollIt(destination, duration = 200, easing = 'linear', callback) {\n\n\tconst easings = {\n\t\tlinear(t) {\n\t\t\treturn t;\n\t\t},\n\t\teaseInQuad(t) {\n\t\t\treturn t * t;\n\t\t},\n\t\teaseOutQuad(t) {\n\t\t\treturn t * (2 - t);\n\t\t},\n\t\teaseInOutQuad(t) {\n\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t\t},\n\t\teaseInCubic(t) {\n\t\t\treturn t * t * t;\n\t\t},\n\t\teaseOutCubic(t) {\n\t\t\treturn (--t) * t * t + 1;\n\t\t},\n\t\teaseInOutCubic(t) {\n\t\t\treturn t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t},\n\t\teaseInQuart(t) {\n\t\t\treturn t * t * t * t;\n\t\t},\n\t\teaseOutQuart(t) {\n\t\t\treturn 1 - (--t) * t * t * t;\n\t\t},\n\t\teaseInOutQuart(t) {\n\t\t\treturn t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t;\n\t\t},\n\t\teaseInQuint(t) {\n\t\t\treturn t * t * t * t * t;\n\t\t},\n\t\teaseOutQuint(t) {\n\t\t\treturn 1 + (--t) * t * t * t * t;\n\t\t},\n\t\teaseInOutQuint(t) {\n\t\t\treturn t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t;\n\t\t}\n\t};\n\n\tconst start = window.pageYOffset;\n\tconst startTime = 'now' in window.performance ? performance.now() : new Date().getTime();\n\n\tconst documentHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\n\tconst windowHeight = window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight;\n\tconst destinationOffset = typeof destination === 'number' ? destination : destination.offsetTop;\n\tconst destinationOffsetToScroll = Math.round(documentHeight - destinationOffset < windowHeight ? documentHeight - windowHeight : destinationOffset);\n\n\tif ('requestAnimationFrame' in window === false) {\n\t\twindow.scroll(0, destinationOffsetToScroll);\n\t\tif (callback) {\n\t\t\tcallback();\n\t\t}\n\t\treturn;\n\t}\n\n\tfunction scroll() {\n\t\tconst now = 'now' in window.performance ? performance.now() : new Date().getTime();\n\t\tconst time = Math.min(1, ((now - startTime) / duration));\n\t\tconst timeFunction = easings[easing](time);\n\t\twindow.scroll(0, Math.ceil((timeFunction * (destinationOffsetToScroll - start)) + start));\n\n\t\tif (window.pageYOffset === destinationOffsetToScroll) {\n\t\t\tif (callback) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\trequestAnimationFrame(scroll);\n\t}\n\n\tscroll();\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","const popOverFragDisclosure = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\" style=\"font-size: 0.875rem\">\n<p>This here document is intended for institutional investors and is not subject to all of the independence and disclosure standards applicable to debt research reports prepared for retail investors under U.S. FINRA Rule 2242. Barclays trades the securities covered in this report for its own account and on a discretionary basis on behalf of certain clients. Such trading interests may be contrary to the recommendations offered in this report.</p>\n<p>For analyst certification(s) and important disclosures, please <a href=\"#main-certifications-disclosures\">click here</a>.</p>\n<p>Completed 12 Nov 2017, 12:00 GMT<br/>Released 14 Nov 2017, 0600 GMT</p>\n</div>\n`;\n\nconst popOverFrag = `\n<a class=\"close-popover\" href=\"#00\">✖︎</a>\n<div class=\"popover__content\">\n<div>\n\t<span class=\"popover__credentials\">Bradley Rogoff, CFA</span>\n\t<span class=\"popover__credentials\">BCI, US</span> \n\t<span class=\"popover__credentials\">High Grade Credit</span>\n</div>\n<ul>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-phone\" />\n</svg>\n<a href=\"#0\">+1 (212) 526-4000</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-person\" />\n</svg>\n<a href=\"#0\">Analyst's Page</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-email\" />\n</svg>\n<a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n</ul>\n</div>\n`;\n\nconst popOverFragMultiples = `\n<a class=\"close-popover\" href=\"#00\">✖︎</a>\n<div class=\"popover__content multiple\">\n<div>\n\t<span class=\"popover__credentials\">Bradley Rogoff, CFA</span>\n\t<span class=\"popover__credentials\">BCI, US</span> \n\t<span class=\"popover__credentials\">High Grade Credit</span>\n</div>\n<ul>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-phone\" />\n</svg>\n<a href=\"#0\">+1 (212) 526-4000</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-person\" />\n</svg>\n<a href=\"#0\">Analyst's Page</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-email\" />\n</svg>\n<a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n</ul>\n</div>\n\n<div class=\"popover__content multiple\">\n<div>\n\t<span class=\"popover__credentials\">Bradley Rogoff, CFA</span>\n\t<span class=\"popover__credentials\">BCI, US</span> \n\t<span class=\"popover__credentials\">High Grade Credit</span>\n</div>\n<ul>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-phone\" />\n</svg>\n<a href=\"#0\">+1 (212) 526-4000</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-person\" />\n</svg>\n<a href=\"#0\">Analyst's Page</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-email\" />\n</svg>\n<a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n</ul>\n</div>\n\n<div class=\"popover__content multiple\">\n<div>\n\t<span class=\"popover__credentials\">Bradley Rogoff, CFA</span>\n\t<span class=\"popover__credentials\">BCI, US</span> \n\t<span class=\"popover__credentials\">High Grade Credit</span>\n</div>\n<ul>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-phone\" />\n</svg>\n<a href=\"#0\">+1 (212) 526-4000</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-person\" />\n</svg>\n<a href=\"#0\">Analyst's Page</a></li>\n<li>\n<svg class=\"icn\">\n<title>Phone number</title>\n<use xlink:href=\"#icon-email\" />\n</svg>\n<a href=\"#0\">bradley.rogoff@barclays.com</a></li>\n</ul>\n</div>\n`;\n\n\nconst popOverFragIcn01 = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\">\n\n<div>Subscribe</div>\n<ul>\n<li><a href=\"#0\">Add to Read Later</a> <input type=\"checkbox\"> </li>\n<li><a href=\"#0\">Clippings &amp; Annotations</a>\n<ul>\n<li><a href=\"#0\">Annotation 1</a></li>\n<li><a href=\"#0\">Annotation 2</a></li>\n</ul>\n</li>\n\n</ul>\n\n<div>Document Tools</div>\n<ul>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Add to Quicklist</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Add to Briefcase</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Email Me</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Share</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Subscribe Client</a></li>\n<li><span class=\"md\" aria-hidden=\"true\" data-icon=\"\"></span> <a href=\"#0\">Copy Link</a></li>\n</ul>\n\n</div>\n\n</div>\n`;\n\nconst popOverFragIcn02 = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\">\n\n<div>Print PDF</div>\n<ul style=\"display: block\">\n<li><a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE001;\"></span> This chapter (3 pages)</a></li>\n<li><a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE001;\"></span> US Credit Alpha (43 pages)</a></li>\n</ul>\n</div>\n</div>\n`;\n\nconst popOverFragIcn03 = `\n<a class=\"close-popover\" href=\"#0\">✖︎</a>\n<div class=\"popover__content\">\n\n<div>Attachments in this article</div>\n<ul style=\"display: block\">\n<li> <a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE001;\"></span> Sample PDF</a></li>\n<li> <a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE006;\"></span> Sample Power Point</a></li>\n<li> <a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE003;\"></span> Sample Word doc</a></li>\n<li> <a><span class=\"md\" aria-hidden=\"true\" data-icon=\"&#xE002;\"></span> Sample Excel spreadsheet</a></li>\n</ul>\n</div>\n</div>\n`;\n\n\n\n//mql = media query list\n// const breakOne = '360'; // 360px  22.5em\n// const breakTwo = '760'; // 760px  46.25em\n// const breakThree = '980'; // 980px  61.25em\n// const breakFour = '1140'; // 1140px  71.25em\n// const breakFive = '1300'; // 1300px  81.25\n\n// const mqlBreakOne = window.matchMedia(`(min-width: ${breakOne}px)`);\n// const mqlBreakTwo = window.matchMedia(`(min-width: ${breakTwo}px)`);\n// const mqlBreakThree = window.matchMedia(`(min-width: ${breakThree}px)`);\n// const mqlBreakFour = window.matchMedia(`(min-width: ${breakFour}px)`);\n// const mqlBreakFive = window.matchMedia(`(min-width: ${breakFive}px)`);\n"]}